import argparse
from alive_progress import alive_bar
import time, logging

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(' >> ')

def pick_target(target_num):
    targets = {
        1: "Checking for Malware on Nga Android Phone",
        2: "Checking for Malware on Phuc iPad",
        3: "Checking for Malware on Phuc iPhone"
    }
    return targets.get(target_num, -1)


parser = argparse.ArgumentParser(description="Choose a target for malware checking.")
parser.add_argument("-t", type=int, help="Choose a target (1, 2, or 3)")
args = parser.parse_args()
target = pick_target(args.t)
if target != -1:
    with alive_bar(100, ctrl_c=False, title=target) as bar:
            for i in range(100):
                if i % 14 == 0:
                    time.sleep(0.05)
                    logger.info('No malware found..')
                if  i % 17 == 0:
                    time.sleep(0.3)
                    logger.info('No malware found..')
                if  i % 12 == 0:
                    time.sleep(0.2)
                    logger.info('No malware found..')
                if  ((i == 88 and args.t == 1)
                    or (i == 98 and args.t == 2)
                    or (i == 99 and args.t == 3)):
                    time.sleep(0.6)
                    logger.warning('Malware found: GreenDoor')
                    break
                else:
                    time.sleep(0.02)
                bar()